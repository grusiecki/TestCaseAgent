---
import { supabase } from '../db/supabase.client';

// Check if user is already logged in
const { data: { session } } = await supabase.auth.getSession();

// If logged in, redirect to dashboard
if (session) {
  return Astro.redirect('/dashboard');
}

// If not logged in, redirect to login page
return Astro.redirect('/login');
---